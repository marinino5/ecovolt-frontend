<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>Ecovolt ‚Äì Micromovilidad Inteligente</title>

  <!-- Fuentes -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&family=Poppins:wght@600;700;800&display=swap" rel="stylesheet">

  <!-- Estilos -->
  <link rel="stylesheet" href="styles.css">

  <!-- Scripts -->
  <script src="./config.js" defer></script>
  <link rel="icon" type="image/x-icon" href="favicon.ico">
</head>

<body>

  <!-- ===== NAVBAR ===== -->
  <header class="nav">
    <div class="nav__inner">
      <a class="brand" href="#home" aria-label="Ecovolt Home">
        <span class="brand__logo" aria-hidden="true">
          <svg viewBox="0 0 64 64">
            <defs>
              <linearGradient id="g1" x1="0" x2="1" y1="0" y2="1">
                <stop offset="0" stop-color="#2dd4bf"/>
                <stop offset="1" stop-color="#22d3ee"/>
              </linearGradient>
            </defs>
            <circle cx="32" cy="32" r="28" fill="url(#g1)" opacity=".18"/>
            <path d="M32 8 L16 36 h12 v20 L48 28 H36 V8 Z" fill="url(#g1)"/>
          </svg>
        </span>
        <span class="brand__text"><b>Eco</b>Volt</span>
      </a>

      <nav class="menu" id="menu">
        <a href="#home" class="is-active">Inicio</a>
        <a href="#how">C√≥mo Funciona</a>
        <a href="#panel">Panel</a>
        <a href="#precios">Precios</a>
      </nav>

      <div class="nav__cta">
        <button class="btn btn--ghost">Iniciar Sesi√≥n</button>
        <button class="btn btn--pill">Registrarse</button>
        <button class="hamb" id="hamb" aria-label="Abrir men√∫">
          <span></span><span></span><span></span>
        </button>
      </div>
    </div>
  </header>

  <!-- ===== HERO ===== -->
  <section id="home" class="hero">
    <div class="blob blob--a"></div>
    <div class="blob blob--b"></div>

    <div class="hero__inner">
      <div class="hero__copy">
        <h1>
          Movilidad <span class="grad">Sostenible</span> para un 
          <span class="grad">Futuro Mejor</span>
        </h1>
        <p>
          Descubre la red de veh√≠culos el√©ctricos m√°s amplia de la ciudad. 
          Reserva, usa y contribuye al medio ambiente en cada viaje.
        </p>

        <div class="hero__actions">
          <a class="btn btn--outline" href="#how">Ver C√≥mo Funciona</a>
        </div>
      </div>

      <!-- Ilustraci√≥n -->
      <div class="hero__art" aria-hidden="true">
        <svg viewBox="0 0 520 320" width="100%" height="100%" style="max-width:520px; display:block; margin-inline:auto; filter: drop-shadow(0 28px 60px rgba(0,0,0,.28));">
          <defs>
            <radialGradient id="halo" cx="50%" cy="45%" r="55%">
              <stop offset="0%" stop-color="rgba(255,255,255,0.55)" />
              <stop offset="100%" stop-color="rgba(255,255,255,0)" />
            </radialGradient>
          </defs>

          <ellipse cx="260" cy="160" rx="220" ry="120" fill="url(#halo)" />

          <g transform="translate(150,60)" fill="#ffffff">
            <rect x="0" y="30" width="160" height="170" rx="26" opacity="0.92"/>
            <rect x="-8" y="195" width="176" height="18" rx="9" opacity="0.92"/>
            <path d="M90 70 L60 120 H85 L70 160 L120 105 H95 L110 70 Z" fill="#0ea5e9" opacity="0.95"/>
            <path d="M160 120 C210 120, 210 170, 175 170 L150 170 L150 145 L172 145 C185 145, 185 130, 172 130 L160 130 Z" />
            <circle cx="194" cy="136" r="11"/>
            <circle cx="194" cy="160" r="11"/>
            <path d="M175 115 h35 a18 18 0 0 1 18 18 v35 a18 18 0 0 1 -18 18 h-35 a0 0 0 0 1 0 0 v-71 a0 0 0 0 1 0 0 z" fill="#ffffff" opacity="0.92"/>
          </g>
        </svg>
      </div>
    </div>
  </section>

  <!-- ===== C√ìMO FUNCIONA ===== -->
  <section id="how" class="how2">
  <div class="how2__head">
    <h2>¬øC√≥mo Funciona?</h2>
    <div class="how2__line"></div>
    <p class="how2__sub">Empieza en minutos y mu√©vete con micromovilidad el√©ctrica de forma segura y sostenible.</p>
  </div>

  <div class="how2__grid">
    <!-- Paso 1 -->
    <article class="step2">
      <div class="step2__bar"></div>
      <span class="step2__num">1</span>

      <div class="step2__icon step2__icon--a">
        <span class="step2__icon-glyph">üë§</span>
      </div>

      <h3>Reg√≠strate</h3>
      <p>Crea tu cuenta y accede a toda nuestra red de veh√≠culos el√©ctricos disponibles 24/7.</p>
    </article>

    <!-- Paso 2 -->
    <article class="step2">
      <div class="step2__bar"></div>
      <span class="step2__num">2</span>

      <div class="step2__icon step2__icon--b">
        <span class="step2__icon-glyph">üìç</span>
      </div>

      <h3>Encuentra</h3>
      <p>Localiza la estaci√≥n m√°s cercana usando nuestra app y revisa la disponibilidad en tiempo real.</p>
    </article>

    <!-- Paso 3 -->
    <article class="step2">
      <div class="step2__bar"></div>
      <span class="step2__num">3</span>

      <div class="step2__icon step2__icon--c">
        <span class="step2__icon-glyph">üîì</span>
      </div>

      <h3>Desbloquea</h3>
      <p>Escanea el c√≥digo QR o usa tu smartphone para desbloquear tu veh√≠culo de forma segura e instant√°nea.</p>
    </article>

    <!-- Paso 4 -->
    <article class="step2">
      <div class="step2__bar"></div>
      <span class="step2__num">4</span>

      <div class="step2__icon step2__icon--d">
        <span class="step2__icon-glyph">üõµ</span>
      </div>

      <h3>Viaja</h3>
      <p>Disfruta tu viaje ecol√≥gico y devuelve el veh√≠culo en cualquier estaci√≥n habilitada.</p>
    </article>
  </div>
</section>


  <!-- ===== PANEL IoT ===== -->
  <section id="panel" class="panel">
    <div class="section__head">
      <h2 class="iot-title">Nuestro Panel Interactivo IoT</h2>
      <p class="section__sub">Visualiza los datos en tiempo real de nuestras estaciones inteligentes.</p>
    </div>

    <!-- Bloques IoT -->
    <div class="panel__intro">
      <div class="iot-block">
        <div class="iot-block-title">üìä √öltimos datos IoT</div>
       <p class="panel-text" data-iot="last-log">Conectando con servidor...</p>
      </div>

      <div class="iot-block">
        <div class="iot-block-title">üí¨ Tiempo real (WebSocket)</div>
  <p class="panel-text" data-iot="ws-log">Esperando conexi√≥n...</p>

      </div>
    </div>

<div class="panel__grid" id="panelGrid">

  <div class="slot" data-key="temperature">
    <div class="slot__title">
      <span class="dot dot--cyan"></span> Temperatura
    </div>
    <div class="slot__body">
      <span class="skeleton slot__value" data-iot="temp">-- ¬∞C</span>
    </div>
  </div>

  <div class="slot" data-key="power">
    <div class="slot__title">
      <span class="dot dot--violet"></span> Potencia
    </div>
    <div class="slot__body">
      <span class="skeleton slot__value" data-iot="power">-- kW</span>
    </div>
  </div>

  <div class="slot" data-key="voltage">
    <div class="slot__title">
      <span class="dot dot--yellow"></span> Voltaje
    </div>
    <div class="slot__body">
      <span class="skeleton slot__value" data-iot="voltage">-- V</span>
    </div>
  </div>

  <div class="slot" data-key="last-charge">
    <div class="slot__title">
      <span class="dot dot--green"></span> √öltima carga
    </div>
    <div class="slot__body">
      <span class="skeleton slot__value" data-iot="last-charge">-- min</span>
    </div>
  </div>

  <div class="slot" data-key="battery">
    <div class="slot__title">
      <span class="dot dot--blue"></span> Bater√≠a
    </div>
    <div class="slot__body">
      <span class="skeleton slot__value" data-iot="battery">-- %</span>
    </div>
  </div>

</div>


  <!-- ===== PRECIOS ===== -->
  <section id="precios" class="pricing">
    <div class="section__head">
      <h2>Precios</h2>
      <div class="underline"></div>
    </div>

    <div class="pricing__grid">
      <article class="price">
        <h3>B√°sico</h3>
        <div class="price__num">$9<span>/mes</span></div>
        <ul>
          <li>30 min gratis diarios</li>
          <li>Acceso a bicicletas</li>
          <li>Soporte b√°sico</li>
          <li>App m√≥vil</li>
        </ul>
        <button class="btn btn--light">Elegir Plan</button>
      </article>

      <article class="price price--featured">
        <div class="badge">M√°s popular</div>
        <h3>Premium</h3>
        <div class="price__num">$19<span>/mes</span></div>
        <ul>
          <li>60 min gratis diarios</li>
          <li>Acceso a bicicletas y scooters</li>
          <li>Reservas prioritarias</li>
          <li>Soporte 24/7</li>
        </ul>
        <button class="btn btn--cta">Elegir Plan</button>
      </article>

      <article class="price">
        <h3>Enterprise</h3>
        <div class="price__num">$49<span>/mes</span></div>
        <ul>
          <li>Viajes ilimitados</li>
          <li>Gesti√≥n de equipos</li>
          <li>Reportes detallados</li>
          <li>Soporte dedicado</li>
        </ul>
        <button class="btn btn--light">Contactar Ventas</button>
      </article>
    </div>
  </section>
    <script src="./main.js" defer></script>
    <!-- Modal de historial IoT (global, reutilizable) -->
<div id="iot-modal-backdrop" class="iot-modal-backdrop is-hidden">
  <div class="iot-modal">
    <div class="iot-modal-header">
      <h3 id="iot-modal-title" class="iot-modal-title">Historial del sensor</h3>
      <button id="iot-modal-close" class="iot-modal-close" aria-label="Cerrar">
        ‚úï
      </button>
    </div>
    <div class="iot-modal-body">
      <p id="iot-modal-description">
        Visualizaci√≥n de las √∫ltimas lecturas reportadas por este dispositivo.
      </p>
      <div id="iot-modal-chart" class="iot-modal-chart"></div>
    </div>
  </div>
</div>
    <script>
  // ===============================
  // 1. "Base de datos" en memoria
  // ===============================
  const sensors = {
    "spot-1": {
      name: "Puesto 1 ‚Äì Estaci√≥n Norte",
      unit: "%",
      history: [],
      statusLabel: "Libre"
    },
    "spot-2": {
      name: "Puesto 2 ‚Äì Estaci√≥n Norte",
      unit: "%",
      history: [],
      statusLabel: "Ocupado"
    },
    "energy-1": {
      name: "Estaci√≥n Solar A",
      unit: "W",
      history: [],
      statusLabel: "Operativa"
    }
    // üëâ Agrega m√°s sensores seg√∫n tus tarjetas
  };

  // Crear valores iniciales aleatorios
  Object.keys(sensors).forEach(id => {
    const base = Math.random() * 50 + 30; // 30‚Äì80
    for (let i = 0; i < 24; i++) {
      const jitter = (Math.random() - 0.5) * 10;
      sensors[id].history.push(Math.max(0, base + jitter));
    }
  });

  // ========================================
  // 2. Renderizar sparkline en un contenedor
  // ========================================
  function renderSparkline(container, data) {
    if (!container || !data || data.length === 0) return;

    const width = container.clientWidth || 160;
    const height = 40;
    const min = Math.min(...data);
    const max = Math.max(...data);
    const range = max - min || 1;

    const points = data
      .map((value, index) => {
        const x = (index / (data.length - 1 || 1)) * width;
        const y = height - ((value - min) / range) * height;
        return `${x},${y}`;
      })
      .join(" ");

    const svg = `
      <svg viewBox="0 0 ${width} ${height}" preserveAspectRatio="none">
        <polyline
          points="${points}"
          fill="none"
          stroke="url(#sparkGradient)"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
        />
        <defs>
          <linearGradient id="sparkGradient" x1="0" y1="0" x2="1" y2="0">
            <stop offset="0%" stop-color="#22d3ee"/>
            <stop offset="100%" stop-color="#0ea5e9"/>
          </linearGradient>
        </defs>
      </svg>
    `;
    container.innerHTML = svg;
  }

  // ===============================================
  // 3. Modal: abrir con historial del sensor
  // ===============================================
  const modalBackdrop = document.getElementById("iot-modal-backdrop");
  const modalTitle = document.getElementById("iot-modal-title");
  const modalChart = document.getElementById("iot-modal-chart");
  const modalClose = document.getElementById("iot-modal-close");

  function openHistoryModal(sensorId) {
    const sensor = sensors[sensorId];
    if (!sensor) return;

    modalTitle.textContent = sensor.name || "Historial del sensor";
    renderHistoryChart(sensorId, modalChart);
    modalBackdrop.classList.remove("is-hidden");
  }

  function closeHistoryModal() {
    modalBackdrop.classList.add("is-hidden");
  }

  if (modalBackdrop && modalClose) {
    modalClose.addEventListener("click", closeHistoryModal);
    modalBackdrop.addEventListener("click", (e) => {
      if (e.target === modalBackdrop) closeHistoryModal();
    });
    document.addEventListener("keydown", (e) => {
      if (e.key === "Escape") closeHistoryModal();
    });
  }

  function renderHistoryChart(sensorId, container) {
    const sensor = sensors[sensorId];
    if (!sensor || !container) return;

    const data = sensor.history;
    const width = container.clientWidth || 320;
    const height = 160;
    const min = Math.min(...data);
    const max = Math.max(...data);
    const range = max - min || 1;

    const points = data
      .map((value, index) => {
        const x = (index / (data.length - 1 || 1)) * width;
        const y = height - ((value - min) / range) * height;
        return `${x},${y}`;
      })
      .join(" ");

    const svg = `
      <svg viewBox="0 0 ${width} ${height}" preserveAspectRatio="none">
        <defs>
          <linearGradient id="historyGradient" x1="0" y1="0" x2="0" y2="1">
            <stop offset="0%" stop-color="rgba(34,211,238,0.4)"/>
            <stop offset="100%" stop-color="rgba(14,165,233,0)"/>
          </linearGradient>
        </defs>
        <path
          d="M0,${height} L${points.replace(/ /g, " L")} L${width},${height} Z"
          fill="url(#historyGradient)"
          stroke="none"
        ></path>
        <polyline
          points="${points}"
          fill="none"
          stroke="#22d3ee"
          stroke-width="2.5"
          stroke-linecap="round"
          stroke-linejoin="round"
        />
      </svg>
    `;
    container.innerHTML = svg;
  }

  // =========================================
  // 4. Vincular tarjetas reales de tu panel
  // =========================================
  function initIoTCards() {
    const cards = document.querySelectorAll(".js-sensor-card");
    cards.forEach(card => {
      const sensorId = card.getAttribute("data-sensor-id");
      const sensor = sensors[sensorId];
      if (!sensor) return;

      // Sparkline
      const sparkContainer = card.querySelector(".iot-sparkline");
      if (sparkContainer) {
        renderSparkline(sparkContainer, sensor.history);
      }

      // Click para abrir historial
      card.style.cursor = "pointer";
      card.addEventListener("click", () => openHistoryModal(sensorId));
    });
  }

  // =========================================
  // 5. Simular actualizaci√≥n "en vivo"
  // =========================================
  function simulateLiveUpdates() {
    setInterval(() => {
      Object.keys(sensors).forEach(sensorId => {
        const sensor = sensors[sensorId];
        const last = sensor.history[sensor.history.length - 1] || 50;
        const jitter = (Math.random() - 0.5) * 8;
        const next = Math.max(0, Math.min(100, last + jitter));

        sensor.history.push(next);
        if (sensor.history.length > 24) {
          sensor.history.shift();
        }

        // Actualizar sparkline en la tarjeta
        const card = document.querySelector(
          `.js-sensor-card[data-sensor-id="${sensorId}"]`
        );
        if (card) {
          const sparkContainer = card.querySelector(".iot-sparkline");
          if (sparkContainer) {
            renderSparkline(sparkContainer, sensor.history);
          }

          const valueEl = card.querySelector(".iot-current-value");
          if (valueEl) {
            valueEl.textContent = `${next.toFixed(0)} ${sensor.unit}`;
          }
        }

        // Si el modal est√° abierto para este sensor, refrescar la gr√°fica grande
        if (!modalBackdrop.classList.contains("is-hidden")) {
          const currentTitle = modalTitle.textContent;
          if (currentTitle === sensor.name) {
            renderHistoryChart(sensorId, modalChart);
          }
        }
      });
    }, 4000); // cada 4 segundos
  }

  // Inicializar cuando cargue la p√°gina
  window.addEventListener("DOMContentLoaded", () => {
    initIoTCards();
    simulateLiveUpdates();
  });
</script>


</body>
  
  <!-- ===== FOOTER ===== -->
  <footer class="footerX">
    <div class="footerX__wrap">
      <div class="footerX__grid">

        <div class="fcol fcol--brand">
          <h4 class="fcol__title">EcoVolt</h4>
          <span class="fcol__line"></span>
          <p>
            Revolucionando la movilidad urbana con soluciones sostenibles 
            y tecnolog√≠a de vanguardia.
          </p>
        </div>

        <div class="fcol">
          <h4 class="fcol__title">Enlaces R√°pidos</h4>
          <ul class="flist">
            <li><a href="#home">Inicio</a></li>
            <li><a href="#how">C√≥mo Funciona</a></li>
            <li><a href="#precios">Precios</a></li>
          </ul>
        </div>

        <div class="fcol">
          <h4 class="fcol__title">Soporte</h4>
          <ul class="flist">
            <li><a href="#">Centro de Ayuda</a></li>
            <li><a href="#">T√©rminos y Condiciones</a></li>
            <li><a href="#">Pol√≠tica de Privacidad</a></li>
          </ul>
        </div>

        <div class="fcol">
          <h4 class="fcol__title">Contacto</h4>
          <ul class="flist flist--contact">
            <li>+57 304 2129 602</li>
            <li>info@ecovolt.com</li>
            <li>Universidad Aut√≥noma, Bucaramanga</li>
          </ul>
        </div>

      </div>

      <hr class="fsep" />

      <div class="fcopy">¬© 2025 EcoVolt. Todos los derechos reservados.</div>

    </div>
  </footer>

</html>



















